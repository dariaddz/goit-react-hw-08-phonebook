{"version":3,"file":"static/js/363.e45ef06e.chunk.js","mappings":"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","sources":["webpack:///./src/components/PhonebookForm/PhonebookForm.module.css?56c1","components/PhonebookForm/PhonebookForm.js","webpack:///./src/components/ContactItem/ContactItem.module.css?be2b","components/ContactItem/ContactItem.js","webpack:///./src/components/Contacts/Contacts.module.css?5e71","components/Contacts/Contacts.js","webpack:///./src/components/Filter/Filter.module.css?fad1","components/Filter/Filter.js","webpack:///./src/views/PhonebookView/PhonebookView.module.css?50e9","views/PhonebookView/PhonebookView.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"label\":\"PhonebookForm_label__a86iP\",\"input\":\"PhonebookForm_input__oekwR\",\"button\":\"PhonebookForm_button__ftF0u\"};","import { useState } from 'react';\nimport { useAddContactMutation, useGetContactsQuery } from 'redux/contactsApi';\nimport toast from 'react-hot-toast';\nimport PropTypes from 'prop-types';\n\nimport st from './PhonebookForm.module.css';\n\nfunction PhonebookForm() {\n  const [addContact, isSuccess] = useAddContactMutation();\n  const { data: contacts } = useGetContactsQuery();\n  const [state, setState] = useState({ name: '', number: '' });\n\n  const { name, number } = state;\n\n  const onHandleChange = evt => {\n    const { name, value } = evt.currentTarget;\n    setState(prev => ({ ...prev, [name]: value }));\n  };\n\n  const validationName =\n    contacts && contacts.find(contact => contact.name === name);\n\n  const validationNumber =\n    contacts && contacts.find(contact => contact.number === number);\n\n  const onHandleSubmit = evt => {\n    evt.preventDefault();\n\n    if (validationName) {\n      toast.error('You already have this name in your phonebook');\n      return;\n    }\n    if (validationNumber) {\n      toast.error('You already have this number in your phonebook');\n      return;\n    }\n\n    addContact({ name, number });\n    isSuccess && toast.success('New contact was added to you phonebook');\n    setState({ name: '', number: '' });\n  };\n\n  return (\n    <>\n      <form onSubmit={onHandleSubmit}>\n        <label className={st.label}>\n          Name\n          <input\n            className={st.input}\n            type=\"text\"\n            name=\"name\"\n            value={name}\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n            title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n            required\n            onChange={onHandleChange}\n          />\n        </label>\n        <label className={st.label}>\n          Number\n          <input\n            className={st.input}\n            type=\"tel\"\n            name=\"number\"\n            value={number}\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n            title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\n            required\n            onChange={onHandleChange}\n          />\n        </label>\n        <button className={st.button} type=\"submit\">\n          Add Contact\n        </button>\n      </form>\n    </>\n  );\n}\n\nPhonebookForm.propTypes = {\n  name: PropTypes.string,\n  number: PropTypes.string,\n};\nexport default PhonebookForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"element\":\"ContactItem_element__G5Yf8\",\"name\":\"ContactItem_name__XjpNK\",\"delete\":\"ContactItem_delete__jQlZo\"};","import st from './ContactItem.module.css';\nimport toast from 'react-hot-toast';\n\nimport { useDeleteContactMutation } from 'redux/contactsApi';\n\nfunction ContactItem({ contact }) {\n  const [deleteContact, { isLoading: isDeleting }] = useDeleteContactMutation();\n  const { id, name, number } = contact;\n\n  const onDeleteContact = () => {\n    deleteContact(id);\n    toast.success(`Contact ${name} successfully deleted!`);\n  };\n\n  return (\n    <>\n      <tr className={st.element} key={id}>\n        <td className={st.name}>{name}: </td>\n        <td>{number}</td>\n        <td>\n          <button\n            disabled={isDeleting}\n            className={st.delete}\n            onClick={onDeleteContact}\n          >\n            {isDeleting ? '.....' : 'delete'}\n          </button>\n        </td>\n      </tr>\n    </>\n  );\n}\n\nexport default ContactItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"table\":\"Contacts_table__KMVeF\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ContactItem from '../ContactItem';\nimport { useSelector } from 'react-redux';\nimport { useGetContactsQuery } from 'redux/contactsApi';\nimport { Loader } from 'components/Loader';\nimport st from './Contacts.module.css';\n\nfunction Contacts() {\n  const { data, isFetching } = useGetContactsQuery();\n  const filterValue = useSelector(state => state.filter.filter);\n\n  const contactsToShow = data?.filter(({ name }) =>\n    name.toLowerCase().includes(filterValue.toLowerCase())\n  );\n\n  return (\n    <>\n      {isFetching && <Loader />}\n      <table className={st.table}>\n        <tbody>\n          {contactsToShow?.map(contact => {\n            return <ContactItem key={contact.id} contact={contact} />;\n          })}\n        </tbody>\n      </table>\n    </>\n  );\n}\n\nContacts.propTypes = {\n  contacts: PropTypes.array,\n  onDeleteContact: PropTypes.func,\n};\n\nexport default Contacts;\n","// extracted by mini-css-extract-plugin\nexport default {\"filter\":\"Filter_filter__vxThR\",\"input\":\"Filter_input__N7T3z\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport st from './Filter.module.css';\nimport { filterContacts } from 'redux/FilterSlice';\nimport { useGetContactsQuery } from 'redux/contactsApi';\nimport { Loader } from 'components/Loader';\n\nconst FilterField = () => {\n  const dispatch = useDispatch();\n  const { data, isFetching } = useGetContactsQuery(null, {\n    refetchOnMountOrArgChange: true,\n  });\n\n  function changeFilter(evt) {\n    const value = evt.currentTarget.value;\n    dispatch(filterContacts(value));\n  }\n\n  return (\n    <div className={st.filter}>\n      {isFetching && <Loader />}\n      {data && data.length !== 0 ? (\n        <>\n          <label>Find contacts by name </label>\n          <input className={st.input} type=\"text\" onChange={changeFilter} />\n        </>\n      ) : (\n        <h5>You don't have saved contacts</h5>\n      )}\n    </div>\n  );\n};\n\nFilterField.propTypes = {\n  value: PropTypes.string,\n  onChange: PropTypes.func,\n};\nexport default FilterField;\n","// extracted by mini-css-extract-plugin\nexport default {\"phonebook\":\"PhonebookView_phonebook__EjkB1\",\"form\":\"PhonebookView_form__e2V4H\"};","import PhonebookForm from '../../components/PhonebookForm';\nimport Contacts from '../../components/Contacts';\nimport FilterField from '../../components/Filter';\nimport st from './PhonebookView.module.css';\n\nexport default function Phonebook() {\n  return (\n    <div className={st.phonebook}>\n      <div className={st.form}>\n        <h2>Add new contact</h2>\n        <PhonebookForm />\n      </div>\n      <div className={st.contactBlock}>\n        <h2>Contacts</h2>\n        <FilterField />\n        <Contacts />\n      </div>\n    </div>\n  );\n}\n"],"names":["useAddContactMutation","addContact","isSuccess","contacts","useGetContactsQuery","data","useState","name","number","state","setState","onHandleChange","evt","currentTarget","value","prev","validationName","find","contact","validationNumber","onSubmit","preventDefault","toast","className","st","type","pattern","title","required","onChange","useDeleteContactMutation","deleteContact","isDeleting","isLoading","id","disabled","onClick","isFetching","filterValue","useSelector","filter","contactsToShow","toLowerCase","includes","Loader","map","dispatch","useDispatch","refetchOnMountOrArgChange","length","filterContacts","Phonebook","Filter"],"sourceRoot":""}