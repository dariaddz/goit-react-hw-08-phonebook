"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[363],{6363:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var a=t(885),s=t(2791),r=t(8989),o=t(6140),c="PhonebookForm_label__a86iP",i="PhonebookForm_input__oekwR",l="PhonebookForm_button__ftF0u",d=t(184);var u=function(){var e=(0,r.Tn)(),n=(0,a.Z)(e,2),t=n[0],u=n[1],h=(0,r.wY)().data,m=(0,s.useState)(""),b=(0,a.Z)(m,2),x=b[0],f=b[1],j=(0,s.useState)(""),_=(0,a.Z)(j,2),p=_[0],v=_[1],k=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":f(a);break;case"number":v(a);break;default:return}},N=h&&h.find((function(e){return e.name===x})),C=h&&h.find((function(e){return e.number===p}));return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),N?o.ZP.error("You already have this name in your phonebook"):C?o.ZP.error("You already have this number in your phonebook"):(t({name:x,number:p}),u&&o.ZP.success("New contact was added to you phonebook"),f(""),v(""))},children:[(0,d.jsxs)("label",{className:c,children:["Name",(0,d.jsx)("input",{className:i,type:"text",name:"name",value:x,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:k})]}),(0,d.jsxs)("label",{className:c,children:["Number",(0,d.jsx)("input",{className:i,type:"tel",name:"number",value:p,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:k})]}),(0,d.jsx)("button",{className:l,type:"submit",children:"Add Contact"})]})})},h="ContactItem_element__G5Yf8",m="ContactItem_name__XjpNK",b="ContactItem_delete__jQlZo";var x=function(e){var n=e.contact,t=(0,r.Nt)(),s=(0,a.Z)(t,2),c=s[0],i=s[1].isLoading,l=n.id,u=n.name,x=n.number;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("tr",{className:h,children:[(0,d.jsxs)("td",{className:m,children:[u,": "]}),(0,d.jsx)("td",{children:x}),(0,d.jsx)("td",{children:(0,d.jsx)("button",{disabled:i,className:b,onClick:function(){c(l),o.ZP.success("Contact ".concat(u," successfully deleted!"))},children:i?".....":"delete"})})]},l)})},f=t(5048),j=t(7108),_="Contacts_table__KMVeF";var p=function(){var e=(0,r.wY)(),n=e.data,t=e.isFetching,a=(0,f.v9)((function(e){return e.filter.filter})),s=null===n||void 0===n?void 0:n.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));return(0,d.jsxs)(d.Fragment,{children:[t&&(0,d.jsx)(j.a,{}),(0,d.jsx)("table",{className:_,children:(0,d.jsx)("tbody",{children:null===s||void 0===s?void 0:s.map((function(e){return(0,d.jsx)(x,{contact:e},e.id)}))})})]})},v="Filter_filter__vxThR",k="Filter_input__N7T3z",N=t(1728),C=function(){var e=(0,f.I0)(),n=(0,r.wY)(null,{refetchOnMountOrArgChange:!0}),t=n.data,a=n.isFetching;return(0,d.jsxs)("div",{className:v,children:[a&&(0,d.jsx)(j.a,{}),t&&0!==t.length?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("label",{children:"Find contacts by name "}),(0,d.jsx)("input",{className:k,type:"text",onChange:function(n){var t=n.currentTarget.value;e((0,N.x)(t))}})]}):(0,d.jsx)("h5",{children:"You don't have saved contacts"})]})},g={phonebook:"PhonebookView_phonebook__EjkB1",form:"PhonebookView_form__e2V4H"};function w(){return(0,d.jsxs)("div",{className:g.phonebook,children:[(0,d.jsxs)("div",{className:g.form,children:[(0,d.jsx)("h2",{children:"Add new contact"}),(0,d.jsx)(u,{})]}),(0,d.jsxs)("div",{className:g.contactBlock,children:[(0,d.jsx)("h2",{children:"Contacts"}),(0,d.jsx)(C,{}),(0,d.jsx)(p,{})]})]})}}}]);
//# sourceMappingURL=363.81fe0fdf.chunk.js.map