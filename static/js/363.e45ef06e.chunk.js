"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[363],{6363:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var a=t(4942),r=t(1413),s=t(885),o=t(2791),c=t(8989),i=t(6140),l="PhonebookForm_label__a86iP",d="PhonebookForm_input__oekwR",u="PhonebookForm_button__ftF0u",m=t(184);var h=function(){var e=(0,c.Tn)(),n=(0,s.Z)(e,2),t=n[0],h=n[1],b=(0,c.wY)().data,x=(0,o.useState)({name:"",number:""}),f=(0,s.Z)(x,2),j=f[0],_=f[1],p=j.name,v=j.number,N=function(e){var n=e.currentTarget,t=n.name,s=n.value;_((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,a.Z)({},t,s))}))},k=b&&b.find((function(e){return e.name===p})),C=b&&b.find((function(e){return e.number===v}));return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),k?i.ZP.error("You already have this name in your phonebook"):C?i.ZP.error("You already have this number in your phonebook"):(t({name:p,number:v}),h&&i.ZP.success("New contact was added to you phonebook"),_({name:"",number:""}))},children:[(0,m.jsxs)("label",{className:l,children:["Name",(0,m.jsx)("input",{className:d,type:"text",name:"name",value:p,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:N})]}),(0,m.jsxs)("label",{className:l,children:["Number",(0,m.jsx)("input",{className:d,type:"tel",name:"number",value:v,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:N})]}),(0,m.jsx)("button",{className:u,type:"submit",children:"Add Contact"})]})})},b="ContactItem_element__G5Yf8",x="ContactItem_name__XjpNK",f="ContactItem_delete__jQlZo";var j=function(e){var n=e.contact,t=(0,c.Nt)(),a=(0,s.Z)(t,2),r=a[0],o=a[1].isLoading,l=n.id,d=n.name,u=n.number;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("tr",{className:b,children:[(0,m.jsxs)("td",{className:x,children:[d,": "]}),(0,m.jsx)("td",{children:u}),(0,m.jsx)("td",{children:(0,m.jsx)("button",{disabled:o,className:f,onClick:function(){r(l),i.ZP.success("Contact ".concat(d," successfully deleted!"))},children:o?".....":"delete"})})]},l)})},_=t(5048),p=t(7108),v="Contacts_table__KMVeF";var N=function(){var e=(0,c.wY)(),n=e.data,t=e.isFetching,a=(0,_.v9)((function(e){return e.filter.filter})),r=null===n||void 0===n?void 0:n.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));return(0,m.jsxs)(m.Fragment,{children:[t&&(0,m.jsx)(p.a,{}),(0,m.jsx)("table",{className:v,children:(0,m.jsx)("tbody",{children:null===r||void 0===r?void 0:r.map((function(e){return(0,m.jsx)(j,{contact:e},e.id)}))})})]})},k="Filter_filter__vxThR",C="Filter_input__N7T3z",g=t(1728),F=function(){var e=(0,_.I0)(),n=(0,c.wY)(null,{refetchOnMountOrArgChange:!0}),t=n.data,a=n.isFetching;return(0,m.jsxs)("div",{className:k,children:[a&&(0,m.jsx)(p.a,{}),t&&0!==t.length?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("label",{children:"Find contacts by name "}),(0,m.jsx)("input",{className:C,type:"text",onChange:function(n){var t=n.currentTarget.value;e((0,g.x)(t))}})]}):(0,m.jsx)("h5",{children:"You don't have saved contacts"})]})},w={phonebook:"PhonebookView_phonebook__EjkB1",form:"PhonebookView_form__e2V4H"};function y(){return(0,m.jsxs)("div",{className:w.phonebook,children:[(0,m.jsxs)("div",{className:w.form,children:[(0,m.jsx)("h2",{children:"Add new contact"}),(0,m.jsx)(h,{})]}),(0,m.jsxs)("div",{className:w.contactBlock,children:[(0,m.jsx)("h2",{children:"Contacts"}),(0,m.jsx)(F,{}),(0,m.jsx)(N,{})]})]})}}}]);
//# sourceMappingURL=363.e45ef06e.chunk.js.map